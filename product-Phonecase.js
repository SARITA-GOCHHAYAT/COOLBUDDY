let empty=[
    {
      "name": "Floral case cover", "price": 450, "sex": "female", "type": "phone-case",
      "image1": "https://cdn.shopify.com/s/files/1/0304/2299/0987/products/sun-flower-floral-plain-case-cover_300x300.jpg?v=1617951353",
      "image2": "http://sc04.alicdn.com/kf/H5bd2a9117b70473f8d8688db35e7b7fav.jpg",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTCfjvPNPmAa57CdyFJY-3YXjpIY6w4GlON4J4vXhfh7_Ea7ZRspStFgRvBkKiCfGa8rFk&usqp=CAU",
    },
    {
      "name": "Formal case cover", "price": 450, "sex": "men", "type": "phone-case",
      "image1": "https://i.etsystatic.com/17035890/r/il/de4910/4024384946/il_fullxfull.4024384946_kac7.jpg",
      "image2": "https://www.coversgap.com/wp-content/uploads/2021/09/Black-White-Check-Oneplus-9-Pro-Back-Cover.jpg",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQWk3mijS-gbhP4f6pvs7dAvVeTccS0dtUeZtjH2b6U8f4mHea-lfcFrTh1Jhsc-yJ1VX0&usqp=CAU",
    },
    {
      "name": "sprinkled case-cover","price": 295,"sex": "female","type": "phone-case",
      "image1": "https://m.media-amazon.com/images/I/712iT8DTKEL.jpg",
      "image2": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-BOnfPdNRI9OMLjbWsqxcR0pYdnnZcgWgraEdFJU_RfCcqSC92aDR4GHJe-IbarYjxZc&usqp=CAU",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTIxr-LUzfV1hfUrZoNqKE0PNkfmUWv5-RSXA&usqp=CAU",
    },
    {
      "name": "Couple-case cover", "price": 450, "sex": "men", "type": "phone-case",
      "image1": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQs610HuOZodWCK1ErwB7c9PzyVZ_YhP86b1A&usqp=CAU",
      "image2": "https://www.printbebo.in/wp-content/uploads/2022/04/140-You-Me-Custom-Name-Couple-Phone-Cover.jpg",
      "image3": "https://cdn.shopify.com/s/files/1/0075/8707/0004/products/Sweet_Love_Couple_Mobile_Cover_1024x1024.jpg?v=1571736211",
    },
    {
      "name": "Soft case-cover", "price": 295,"sex": "female","type": "phone-case",
      "image1": "https://images-cdn.ubuy.co.in/634d33cd7c783f476c4fab7f-allytech-iphone-12-pro-max-case-6-7.jpg",
      "image2": "https://5.imimg.com/data5/ANDROID/Default/2020/12/CW/MA/UO/28038915/product-jpeg-500x500.jpg",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS9qZBLqVOstcssg25F-9mFLEcwngcwWfNL-r5fFVx5LZHH_pGDNx7BISVirsSQRq-cn8g&usqp=CAU",
    },
    {
      "name": "formal-case cover", "price": 495,"sex": "men","type":"phone-case",
      "image1": "https://www.printbebo.in/wp-content/uploads/2022/10/64-Cute-Boy-Custom-Name-Phone-Cover.jpg",
      "image2": "https://images.meesho.com/images/products/186809811/d0s5h_256.webp",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjQjKUwO2mqoObC8Ay269GLnFIU4Rc_oAfh0CDZGlH4pvvi6pHUPFo8e5YKmF32NsTzbw&usqp=CAU",
    },
    {
      "name": "Doll case cover", "price": 395, "sex": "female","type":"phone-case",
      "image1": "https://eg.jumia.is/unsafe/fit-in/680x680/filters:fill(white)/product/97/187192/1.jpg?4166",
      "image2": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRR5N6KFos1IHpZLWYcqphRwRqaq10bVGRE5K5DWAZAxFDK2BPInIuaayKRnI4p2eIIzhI&usqp=CAU",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRVN5y3kJQ3nkk_GmP7V2y78XdVAKPa39OxQbExUd8idkmf9UJphP37JYHQmOV5v2Y-MEc&usqp=CAU",
    },
    {
      "name": "Glitered case-cover", "price": 395,  "sex": "men", "type":"phone-case",
      "image1": "https://5.imimg.com/data5/US/FB/MY-17251565/fancy-mobile-cover-250x250.jpg",
      "image2": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTX6nr-gXnxoTl5gA1MaJ5878db_pJikhJV6iXSG-jiakREizgTOd2fflilrWVIYxxgZRQ&usqp=CAU",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQjNzWhlLXmaqKFZi6KpIlicyQLOIa0Z9I9nSiBnKnVB5iXcJWIkfULLFw8xDEfmaqqsw8&usqp=CAU",
    },
    {
      "name": "3D case-cover", "price": 195,"sex": "female","type": "phone-case",
      "image1": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQpq8MDUmxiuzC6RaltVsr1jQ6VBKI5HkfW2g&usqp=CAU",
      "image2": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfUC1MM1k09YT2rLyCpnHUmFGercHCd5TxUZpEKHVhe0Bkde8sIDuxW87l9_IHrj2dz4c&usqp=CAU",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSZ--aAxS0BePk-f5Y5r6kpawUYP4nMTqhvwwdNfYQWBLJIPhoyViCBsnVfsEzw8HpgqwI&usqp=CAU",
    },
  ]

  let cont=document.getElementById("container");
let search=document.getElementById("input");
let wishdata=JSON.parse(localStorage.getItem("wishlist"))||[];
let cartdata=JSON.parse(localStorage.getItem("cartlist"))||[];

display(empty);
function display(data){
    cont.innerHTML="";
    data.forEach(e => {
        let imagedata=[e.image1,e.image2,e.image3];
        let i=0;
        let div=document.createElement("div");
        div.setAttribute("id","cont-div");
let topdiv=document.createElement("div");
topdiv.setAttribute("id","topdiv");
let left=document.createElement("p");
left.innerHTML="<";
left.setAttribute("class","sign");
left.addEventListener("click",function(){
    if(i<0){
        i=2;
    }
    img.setAttribute("src",imagedata[i--]); 
})
let img=document.createElement("img");
img.setAttribute("src",imagedata[i]);
img.setAttribute("alt","error");
let right=document.createElement("p");
right.innerHTML=">";
right.setAttribute("class","sign");
right.addEventListener("click",function(){
    if(i==3){
        i=0;
    }
    img.setAttribute("src",imagedata[i++]); 
})
let botdiv=document.createElement("div");
let name=document.createElement("h2");
name.innerHTML=e.name;
let price=document.createElement("h4");
price.innerHTML=`â‚¹${e.price}`;
let sex=document.createElement("p");
sex.innerHTML=e.sex;
let type=document.createElement("p");
type.innerHTML=e.type;
let buttdiv=document.createElement("div");
buttdiv.setAttribute("id","buttdiv");
let wishbtn=document.createElement("button");
wishbtn.innerHTML="Wishlist";
wishbtn.setAttribute("id","wishbtn");
wishbtn.addEventListener("click",function(){
    if(check(e)){
       alert("Product Already in Wishlist");
    }else{
       wishdata.push(e);
       localStorage.setItem("wishlist",JSON.stringify(wishdata));
       alert("Product Added to Wishlist");
    }
   })
   
   let cartbtn=document.createElement("button");
   cartbtn.innerHTML="Add To Cart";
   cartbtn.setAttribute("id","cartbtn");
   cartbtn.addEventListener("click",function(){
    if(check1(e)){
        alert("Product Already in Cart");
    }else{
        cartdata.push({...e,quantity:1});
        localStorage.setItem("cartlist",JSON.stringify(cartdata));
        alert("Product Added to Cart");
    }
   })

buttdiv.append(wishbtn,cartbtn);
topdiv.append(left,img,right);
botdiv.append(name,price,sex,type);
div.append(topdiv,botdiv,buttdiv);
cont.append(div);
    });
}
search.addEventListener("input",function(){
    let filtered=empty.filter(function(e){
        if(e.name.toUpperCase().includes(search.value.toUpperCase())===true){
          return true;
        }else{
            return false;
        }
    })
   display(filtered); 
})
let image1=document.getElementById("top-image1");
let image2=document.getElementById("top-image2");
let image3=document.getElementById("top-image3");
image1.addEventListener("click",function(){
    display(empty);
})
image2.addEventListener("click",function(){
    let filtered1=empty.filter(function(e){
        if(e.sex==="men"){
            return true;
        }else{
            return false;
        }
    })
    display(filtered1);
})
image3.addEventListener("click",function(){
    let filtered3=empty.filter(function(e){
        if(e.sex==="female"){
            return true;
        }
        else{
            return false;
        }
    })
    display(filtered3);
})


let extrap1=document.getElementById("extrap1");
extrap1.addEventListener("click",function(){
    window.location.href= "./product-bag.html";
});

let extrap2=document.getElementById("extrap2");
extrap2.addEventListener("click",function(){
    window.location.href= "./product-watch.html";
});

let select=document.getElementById("select");
select.addEventListener("change",function(){
    if(select.value==="lth"){
        let selectData=[...empty];
    selectData.sort(function(a,b){
            return (a.price-b.price);
        })
        display(selectData);
    }
    
    if(select.value==="htl"){
        let selectData=[...empty];
    selectData.sort(function(a,b){
            return (b.price-a.price);
        })
        display(selectData);
    }
})

function check(e){
    for(let i=0;i<wishdata.length;i++){
        if(e.name===wishdata[i].name){
            return true;
        }
    }
    return false;
    }
    function check1(e){
        for(let i=0;i<cartdata.length;i++){
            if(e.name===cartdata[i].name){
                return true;
            }
        }
        return false;
    }
  