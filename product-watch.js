let empty=[
    {
      "name": "Maroon watch-band", "price": 450, "sex": "female", "type": "watch-band",
      "image1": "https://www.aarohee.in/wp-content/uploads/2021/01/ffbc1_512.jpg",
      "image2": "https://5.imimg.com/data5/IA/IL/FR/SELLER-81052937/laxy5428-250x250.JPG",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQlshdP2CHsZ0n1M9dbELed_Ub5j7sA_-kk4I7Rz0rg3QebMqzYJzK104-4AhBPMtNLpb4&usqp=CAU",
    },
    {
      "name": "Royal black", "price": 450, "sex": "men", "type": "watch-band",
      "image1": "https://images-cdn.ubuy.co.in/6421bd3a44c34a2c71325137-mens-watches-ultra-thin-minimalist.jpg",
      "image2": "https://images-cdn.ubuy.co.in/633fec017ebd1608cc378c65-mens-watches-ultra-thin-minimalist.jpg",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRRN-d81QTjbosNXkM6Nk9ALFjcmXfutABHrt0JuYKBZ8N05x3GAew7ScO2UikQ7CGYjV0&usqp=CAU",
     
    },
    {
      "name": "Rose-Gold watch-Band","price": 295,"sex": "female","type": "watch-band",
      "image1": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRhfj38ANgSM6BYjMX_2b8t1CW12b_mKJIMVwcZs0RYSQbWR5tQB6OG2rrpLnUW_JyIDx8&usqp=CAU",
      "image2": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRodEkUcPEwcecJ3MDb7VXIjN2-FzG6mM9sgik07j-D5A8FitEwBFg0UrJ5n4BKdi9yD7c&usqp=CAU",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTu6MoDFCd0PY-vZIoFxk68ZyhUOUkO9oH8MP8_OJ7J06wZi6omMV23xklknea6dcWXZOI&usqp=CAU",
    },
    {
      "name": "Formalblue watch band", "price": 450, "sex": "men", "type": "watch-band",
      "image1": "https://www.jiomart.com/images/product/500x630/rvhfetwbop/carnaer-men-s-casual-analog-quartz-watch-gold-watch-for-men-brown-genuine-leather-band-luminous-easy-to-read-day-and-date-watch-with-blue-dial-product-images-rvhfetwbop-2-202212301653.jpg",
      "image2": "https://www.jiomart.com/images/product/500x630/rvhfetwbop/carnaer-men-s-casual-analog-quartz-watch-gold-watch-for-men-brown-genuine-leather-band-luminous-easy-to-read-day-and-date-watch-with-blue-dial-product-images-rvhfetwbop-1-202212301653.jpg",
      "image3": "https://m.media-amazon.com/images/W/IMAGERENDERING_521856-T1/images/I/61LSx4XVXkL._AC_UY1000_.jpg",
    },
    {
      "name": "Silver-Plated Watch-Band", "price": 295,"sex": "female","type": "watch-band",
      "image1": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQpRA2dFonDAJVBbu7uOTR6ar71DWh-mG6h9UVoF0mVWEdRycPPCc9YOYCIPG9aQDz6Now&usqp=CAU",
      "image2": "https://rukminim1.flixcart.com/image/180/180/kf1fo280/watch/5/6/n/jewels068-pnkslv-swisstone-original-imafvh5fgjafxzpf.jpeg?q=50",
      "image3": "https://images.meesho.com/images/products/127106370/d8kbx_256.webp",
    },
    {
      "name": "watch band C345", "price": 495,"sex": "men","type":"watch-band",
      "image1": "http://cdn.shopify.com/s/files/1/0639/1221/4745/products/1231261-giordanomultifunctionalbluedialmenwatch194304.jpg?v=1659616354",
      "image2": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSpK3J1d0I6dgqdHhIOY_fjmztbCyLfLOMLBnYdITGsZMMi1P1rxvLNgnLQyzUnGwClhCg&usqp=CAU",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQAdtkcx1OIC0Ctx1bEFpAONgbiYm7GAs0OBnehnf4DI83lNfrwgQAur5QHUAG-KnlBsm8&usqp=CAU",
    },
    {
      "name": "White Watch-Band", "price": 395, "sex": "female","type":"watch-band",
      "image1": "https://assets.ajio.com/medias/sys_master/root/h67/h4c/15908223352862/-473Wx593H-460615833-rosegold-MODEL.jpg",
      "image2": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSOYTCF05nePjBM3QRFic6Y0VvO7reP5URk4vBknkBZo5pK7A1ArW6JW5IcMUrLIBE4f28&usqp=CAU",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQV-ZNoGJyLfGO2uPVFc9ELVaYDcEz-sfcv3o0G2E57F_0CcJSa6eWeF2crO3zwGnvK6X8&usqp=CAU",
    },
    {
      "name": "Fusin colored watch-band", "price": 395,  "sex": "men", "type":"watch-band",
      "image1": "https://img.fruugo.com/product/9/08/241461089_max.jpg",
      "image2": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRDKDGtpDcWcehmOek15k_L0fKRH6X7yOdCIFemEsgmAc85CjIn15KBCU1L9Vti0JkSKLM&usqp=CAU",
      "image3": "https://m.media-amazon.com/images/W/IMAGERENDERING_521856-T1/images/I/71Si4KPC4oL._AC_SY550_.jpg",
    },
    {
      "name": "Sky-Blue Watch Band", "price": 195,"sex": "female","type": "watch-band",
      "image1": "https://m.media-amazon.com/images/W/IMAGERENDERING_521856-T1/images/G/31/img21/Watches2021/May/XCM/SBStrap/QC_01._SS680_QL85_.jpg",
      "image2": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmx64o7n7Cwg54BKDgUaSHi7hXl1wHaKGEaaLc3mslrIzZHVWBpBmJuCrLxxiJ3gD7iQY&usqp=CAU",
      "image3": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTk6v_bvUny4WEbSYH9eJeNiZMhh6AKTRHZQdSA8eb0Ku2QlZrwnkFjZTmrHIBiAnIWrSQ&usqp=CAU",
    },
  ]

  let cont=document.getElementById("container");
let search=document.getElementById("input");
let wishdata=JSON.parse(localStorage.getItem("wishlist"))||[];
let cartdata=JSON.parse(localStorage.getItem("cartlist"))||[];

display(empty);
function display(data){
    cont.innerHTML="";
    data.forEach(e => {
        let imagedata=[e.image1,e.image2,e.image3];
        let i=0;
        let div=document.createElement("div");
        div.setAttribute("id","cont-div");
let topdiv=document.createElement("div");
topdiv.setAttribute("id","topdiv");
let left=document.createElement("p");
left.innerHTML="<";
left.setAttribute("class","sign");
left.addEventListener("click",function(){
    if(i<0){
        i=2;
    }
    img.setAttribute("src",imagedata[i--]); 
})
let img=document.createElement("img");
img.setAttribute("src",imagedata[i]);
img.setAttribute("alt","error");
let right=document.createElement("p");
right.innerHTML=">";
right.setAttribute("class","sign");
right.addEventListener("click",function(){
    if(i==3){
        i=0;
    }
    img.setAttribute("src",imagedata[i++]); 
})
let botdiv=document.createElement("div");
let name=document.createElement("h2");
name.innerHTML=e.name;
let price=document.createElement("h4");
price.innerHTML=`â‚¹${e.price}`;
let sex=document.createElement("p");
sex.innerHTML=e.sex;
let type=document.createElement("p");
type.innerHTML=e.type;
let buttdiv=document.createElement("div");
buttdiv.setAttribute("id","buttdiv");
let wishbtn=document.createElement("button");
wishbtn.innerHTML="Wishlist";
wishbtn.setAttribute("id","wishbtn");
wishbtn.addEventListener("click",function(){
 if(check(e)){
    alert("Product Already in Wishlist");
 }else{
    wishdata.push(e);
    localStorage.setItem("wishlist",JSON.stringify(wishdata));
    alert("Product Added to Wishlist");
 }
})

let cartbtn=document.createElement("button");
cartbtn.innerHTML="Add To Cart";
cartbtn.setAttribute("id","cartbtn");
cartbtn.addEventListener("click",function(){
 if(check1(e)){
     alert("Product Already in Cart");
 }else{
     cartdata.push({...e,quantity:1});
     localStorage.setItem("cartlist",JSON.stringify(cartdata));
     alert("Product Added to Cart");
 }
})

buttdiv.append(wishbtn,cartbtn);
topdiv.append(left,img,right);
botdiv.append(name,price,sex,type);
div.append(topdiv,botdiv,buttdiv);
cont.append(div);
    });
}
search.addEventListener("input",function(){
    let filtered=empty.filter(function(e){
        if(e.name.toUpperCase().includes(search.value.toUpperCase())===true){
          return true;
        }else{
            return false;
        }
    })
   display(filtered); 
})
let image1=document.getElementById("top-image1");
let image2=document.getElementById("top-image2");
let image3=document.getElementById("top-image3");
image1.addEventListener("click",function(){
    display(empty);
})
image2.addEventListener("click",function(){
    let filtered1=empty.filter(function(e){
        if(e.sex==="men"){
            return true;
        }else{
            return false;
        }
    })
    display(filtered1);
})
image3.addEventListener("click",function(){
    let filtered3=empty.filter(function(e){
        if(e.sex==="female"){
            return true;
        }
        else{
            return false;
        }
    })
    display(filtered3);
})


let extrap1=document.getElementById("extrap1");
extrap1.addEventListener("click",function(){
    window.location.href= "./product-Bag.html";
});

let extrap2=document.getElementById("extrap2");
extrap2.addEventListener("click",function(){
    window.location.href= "./product-Phonecase.html";
});


let select=document.getElementById("select");
select.addEventListener("change",function(){
    if(select.value==="lth"){
        let selectData=[...empty];
    selectData.sort(function(a,b){
            return (a.price-b.price);
        })
        display(selectData);
    }
    
    if(select.value==="htl"){
        let selectData=[...empty];
    selectData.sort(function(a,b){
            return (b.price-a.price);
        })
        display(selectData);
    }
})

function check(e){
for(let i=0;i<wishdata.length;i++){
    if(e.name===wishdata[i].name){
        return true;
    }
}
return false;
}
function check1(e){
    for(let i=0;i<cartdata.length;i++){
        if(e.name===cartdata[i].name){
            return true;
        }
    }
    return false;
}